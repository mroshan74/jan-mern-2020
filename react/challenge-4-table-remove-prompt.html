<!DOCTYPE html>
<html>

<head>
    <title>table remove prompt</title>
</head>

<body>
    <div id="root">

    </div>

    <!-- https://unpkg.com/react@16.12.0/umd/react.development.js -->
    <script src="./js/react.development.js"></script>
    <!-- https://www.unpkg.com/react-dom@16.12.0/umd/react-dom.development.js -->
    <script src="./js/react-dom.development.js"></script>
    <!-- https://unpkg.com/babel-standalone@6.26.0/babel.js -->
    <script src="./js/babel.js"></script>


    <script type="text/babel">
        const rootHandle = document.getElementById('root')
        class ListingUsers extends React.Component{
            constructor(){
                super()
                this.state={
                    users: [
                        { id: 1, name: 'user1'},
                        { id: 2, name: 'user2' },
                        { id: 3, name: 'user3' },
                        { id: 4, name: 'user4' },
                        { id: 5, name: 'user5' },
                        { id: 6, name: 'user6' }
                    ]
                }
            }
            handleRemove = (name) => {
                const getUser=prompt('Are u sure, confirm the user to be removed')
                this.setState(function(prevState){
                    if (name == getUser) {
                    return{
                        users: prevState.users.filter(user => user.name != name)
                        }
                    }
                    else{
                        alert('no such user match/found')         
                    }
                })
            }

            render(){
                return(
                    <div>
                        <h2>Listing Users - {this.state.users.length}</h2>
                        <table border='1'>
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>name</th>
                                    <th>action</th>
                                </tr>
                            </thead>
                            <tbody>{
                                this.state.users.map((user,i)=>{
                                    return(
                                        <tr key={user.id}>
                                            <td>{i+1}</td>
                                            <td>{user.name}</td>
                                            <td>
                                                <button onClick={()=> { this.handleRemove(user.name)}}>Remove</button>
                                            </td>
                                        </tr>
                                    )
                                })
                            }
                            </tbody>
                        </table>
                    </div>
                )
            }
        }
        ReactDOM.render(<ListingUsers/>,rootHandle)
    </script>

</body>

</html>